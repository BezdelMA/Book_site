
<div class="way">
    <a href="/">Книги</a>
    <a asp-controller="Catalog" asp-action="Search" asp-route-search="@Model.BookById.Genre.NameGenre">@Model.BookById.Genre.NameGenre</a>
    <a asp-controller="Catalog" asp-action="Search" asp-route-search="@Model.BookById.Author.NameAuthor">@Model.BookById.Author.NameAuthor</a>
    <a asp-controller="Catalog" asp-action="Search" asp-route-search="@Model.BookById.NameBook">@Model.BookById.NameBook</a>
</div>
<div class="preview__product__border">
    <div class="preview__product">
        <div class="picture"><a href="../@Model.BookById.Img"><img src="../@Model.BookById.Img" alt="Внутри убийцы"></a></div>
        <div class="description">
            <div class="description_preview_info">
                Автор: <a asp-controller="Catalog" asp-action="Search" asp-route-search="@Model.BookById.Author.NameAuthor">@Model.BookById.Author.NameAuthor</a><br>
                Издательство: <a href="#">Эксмо, </a>@Model.BookById.Year<div class="br"></div>
                Жанр: <a asp-controller="Catalog" asp-action="Search" asp-route-search="@Model.BookById.Genre.NameGenre">@Model.BookById.Genre.NameGenre</a><br>
                <div class="annotation">
                    <h4>АННОТАЦИЯ</h4>
                    <div class="annotation_content">
                        @Html.Raw(Model.BookById.Annotation)
                    </div>
                </div>
            </div>
            <div class="price">@Model.BookById.Price р.</div>
            <a asp-controller="ShopBasket" asp-action="AddToBasket" asp-route-id="@Model.BookById.Id"><input type="submit" value="Добавить в корзину"></a>
        </div>
    </div>
</div>
<hr>
<div class="content-top-new">
    <div class="new-book-title">
        <div class="new-book">
            <a asp-controller="Catalog" asp-action="Books" asp-route-filter="Favorite">
                <p>Самые покупаемые</p>
            </a>
        </div>
        <div class="new-book-all">
            <a asp-controller="Catalog" asp-action="Books" asp-route-filter="Favorite">
                <p>Все самые покупаемые</p>
            </a>
        </div>
    </div>
    <div class="content-top-popular-all">
        @{
            int i = 0;
            foreach (Book book in Model.FavoriteBooks)
            {
                if (i >= 4)
                    break;
                else
                    @await Html.PartialAsync("Partial/BookPreview", book)
                    i++;
                }
        }
    </div>
</div>
<hr>